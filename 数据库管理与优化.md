# 数据库管理与优化

## 数据库调优

- 让数据库跑得更快的优化

**跑得更快的指标**

- 高吞吐量
- 更低的响应时间

**5%的提升已经很显著了**

### 为什么要调优？

- 排除故障
- 系统扩容
- ···

### 调优的难处

- 缓存问题
- ···

### 哪方面调优？

- 逻辑方面
- ···

### 各方面的优化

1. 概念层次
   - 规范化（往往导致性能降低） vs 反规范化
2. 内视图层次
   - 索引策略，表空间管理（日志频繁读写，和数据分开放）
3. 外视图
   - ···

### 优化过程

- 定位，溯根

#### 诊断方法

- 形成假设，进行问题解决并验证

### 优化原则

1. 从全局得根因，从小处解决问题。

   - 磁盘IO很大，可能有以下原因
     - 表扫描时没有设置索引
     - 日志与数据未区分
     - ···

2. 划分，从而突破瓶颈（划分也有副作用，可能会需要合并）。

   - 

3. 启动代价高，运行代价低。

   




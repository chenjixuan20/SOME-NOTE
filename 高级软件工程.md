### 软件的开发、测试、部署和运维在云环境和非云环境的区别

- 云服务给开发者准备了很多基础技术，方便开发者使用。

***

### 重要概念

- 构建(bulid)
- 发布(release)
- 交付(delivery)
- 部署(deployment)
- 运维(operation)

***

## 软件架构

### 传统单体架构

- 逻辑上分层若干模块并且提供接口
- 每个模块可以分配给不同小组开发
- 整体打包（如war包）

#### 缺陷

- 代码仓库急剧膨胀，复杂度上升
- 构建，启动变慢
- 构建部署变慢，难以实现敏捷开发，快速交付
- 不同模块需要的资源不一样，难以扩展
- 体积大，难以全面测试，缺乏故障隔离，整体可靠性差
- 依赖过时的技术栈，选择不灵活

**可以实现[^水平复制]，[^数据划分]，不能实现[^功能分解]**

[^水平复制]:复制多个单体饮用根据请求属性进行路由。
[^数据划分]:运行多个相同的单体应用程序实例，每个实例面向一部分数据子集，根据请求属性进行路由。
[^功能分解]:将应用拆分为一组负责不同功能的服务，每个服务```





### 容器云

#### 特点：

- 可以在物理机或虚拟机上运行
- 轻量级，资源占用少，部署快
- 单服务器上可运行较多的容器实例
- 隔离性好
- 应用可打包成镜像

··········





### 微服务于传统软件模块的区别

**微服务可以认为是一种软件模块**

**但是**

- 服务可以独立开发和发布
- 服务可以独立部署和扩展
- 服务拥有自己的数据库
- 服务实例之间有着更好的隔离性
- 服务的api构成了一种不可逾越的边界

### API网关

#### 为什么需要API网关

- 微服务提供的API粒度比客户端所需要的粒度小很多
- ···

### 作用

- 隔离内外服务，保障后台服务器安全性
- 在网络层之上建立更好的可控可管理的运维能力
- 降低客户端与服务耦合，服务可独立运行并通过网关进行映射
- ···

### 微服务优缺点

#### 优点

- 服务小，好维护
- 服务物理隔离，高度松耦合
- 各个服务可以自由选择协议栈
- 更好的故障隔离和容错性
- 服务可独立部署，独立伸缩

#### 缺点

- 服务划分影响巨大，决策困难
- 动态和复杂的分布式交互
- 运维难
- 可靠性有问题
- 架构复杂导致测试调试困难
- ···

### 微服务的本质特征：

> 服务隔离，显式的服务交互管理



